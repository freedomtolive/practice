<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body,
			ul,
			li {
				margin: 0;
				padding: 0;
				list-style: none;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="baidu.css" />
	</head>

	<body>
		<div class="wrap">
			<div class="baidu">
				<ul id="list">
					<li>
						<div></div>
						<span>泡沫</span>
						<span>邓紫棋</span>
					</li>
					<li>
						<div></div>
						<span>说爱你</span>
						<span>蔡依林</span>
					</li>
					<li>
						<div></div>
						<span>稻香</span>
						<span>周杰伦</span>
					</li>
					<li>
						<div></div>
						<span>我的梦</span>
						<span>张靓颖</span>
					</li>
					<li>
						<div></div>
						<span>怎么说我不爱你</span>
						<span>萧敬腾</span>
					</li>
					<li>
						<div>️</div>
						<span>无处安放</span>
						<span>白若溪</span>
					</li>
				</ul>
				<div class="select">
					<span class="selectAll"><span>全选</span></span>
					<div class="others">
						<span><em></em>收藏</span>
						<span><em></em>添加</span>
						<span><em></em>删除</span>
					</div>
				</div>
			</div>
		</div>
		
		<script>
			var aLi = document.querySelectorAll("#list li");
			var aDiv = document.querySelectorAll("#list div");
			var oSelectAll = document.querySelectorAll(".selectAll")[0];
			
			changeColor();
			
			for(var i=0;i<aLi.length;i++){
				aLi[i].index = i;
				aLi[i].onOff = false;//false对应li未被点击
				aLi[i].onclick = function(){
//					if(aDiv[this.index].innerHTML == ''){
					if(this.onOff == false){
						aDiv[this.index].innerHTML = "✔";
					}else{
						aDiv[this.index].innerHTML = "";
					}
					this.onOff = !this.onOff
					check();
					changeColor();
				}
				
				aLi[i].onmouseover = function(){
					if(!this.onOff){
						this.style.backgroundColor = "rgba(200,0,0,0.9)"
						this.style.color = "#fff";
					}
				}
				
				aLi[i].onmouseout = function(){
					if(!this.onOff){
						this.style.backgroundColor = this.index%2?"rgba(200,0,0,0.3)":"";
						this.style.color = "#000";
					}
				}
			}
			
			oSelectAll.onOff = true;//true对应全选未被点击
			oSelectAll.onclick = function(){
					oSelectAll.innerHTML = this.onOff? "✔<span>全选</span>":"<span>全选</span>";
					for(var i=0;i<aLi.length;i++){
						aDiv[i].innerHTML = this.onOff ? "✔" : "";
						aLi[i].onOff = this.onOff? true : false ;
					}
					this.onOff = !this.onOff
					changeColor();
			}
			
			function changeColor(){
				for(var i=0;i<aLi.length;i++){
					if(aLi[i].onOff){
						aLi[i].style.backgroundColor = "rgba(200,0,0,0.9)";
						aLi[i].style.color = "#fff";
					}else{
						if(i%2){
							aLi[i].style.backgroundColor = "rgba(200,0,0,0.3)";
						}else{
							aLi[i].style.backgroundColor = "";
						}
						aLi[i].style.color = "#000";
					}
				}
			}
			
			function check(){
				for(var i=0;i<aDiv.length;i++){
					if(aDiv[i].innerHTML == ""){
						oSelectAll.innerHTML = "<span>全选</span>";
						return;
					}
				}
				oSelectAll.innerHTML = "✔<span>全选</span>";
			}
		</script>
	</body>

</html>